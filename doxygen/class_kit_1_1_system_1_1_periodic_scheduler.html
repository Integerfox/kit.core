<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kit: Kit::System::PeriodicScheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.gif"/></td>
  <td id="projectalign">
   <div id="projectname">Kit<span id="projectnumber">&#160;Build: 50-main</span>
   </div>
   <div id="projectbrief">KIT Embedded C++ Class Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_kit.html">Kit</a></li><li class="navelem"><a class="el" href="namespace_kit_1_1_system.html">System</a></li><li class="navelem"><a class="el" href="class_kit_1_1_system_1_1_periodic_scheduler.html">PeriodicScheduler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="class_kit_1_1_system_1_1_periodic_scheduler-members.html">List of all members</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle"><div class="title">Kit::System::PeriodicScheduler Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This concrete class is a 'policy' object that is used to add polled based, cooperative monotonic scheduling to a Runnable object.  
 <a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This concrete class is a 'policy' object that is used to add polled based, cooperative monotonic scheduling to a Runnable object. </p>
<p>Monotonic in this content means that if a 'interval' method is scheduled to execute at a periodic rate of 200Hz, then the method will be called on every 5ms boundary of the system time.</p>
<p>The scheduler makes its best attempt at being monotonic and deterministic, BUT because the scheduling is polled and cooperative (i.e. its is the application's responsibility to not-overrun/over-allocate the processing done during each interval) the actual the timing cannot be guaranteed. That said, the scheduler will detect and report when the interval timing slips.</p>
<p>The usage of this class is to implement (or extended) a Cpl::System::Runnable object, i.e. invoked inside the 'forever' loop of the Runnable object's appRun() method. The scheduler can be use within a 'bare' forever loop and it can be used with existing event based Runnable objects to add periodic scheduling. See Cpl::Dm::PeriodicScheduler for example extending an event based Runnable object to include periodic scheduling.</p>
<p>NOTE: A uint64_t is used for the millisecond time keeping because it provides a larger range and can accommodate long-running applications (i.e. a uint32_t rolls over every 49.7 days; a uint64_t rolls over every 584 million years).</p>
<p>NOTE: A "traditional C function pointer" paradigm is used to provide application specialization. This is by design on the premise that it simplifies the Application "main" in that 'start-up child classes' are not required to be created for each interval and/or for the scheduler hooks. </p>
</div>
<p><code>#include &lt;<a class="el" href="_periodic_scheduler_8h_source.html">PeriodicScheduler.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Kit::System::PeriodicScheduler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_kit_1_1_system_1_1_periodic_scheduler__inherit__graph.svg" width="232" height="124"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for Kit::System::PeriodicScheduler:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_kit_1_1_system_1_1_periodic_scheduler__coll__graph.svg" width="238" height="154"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html">Interval_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines an interval.  <a href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0feaa97fa5dde4cf663693b81f8b2616" id="r_a0feaa97fa5dde4cf663693b81f8b2616"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0feaa97fa5dde4cf663693b81f8b2616">IntervalCallbackFunc_T</a>) (uint64_t currentTick, uint64_t currentInterval, void *context)</td></tr>
<tr class="memdesc:a0feaa97fa5dde4cf663693b81f8b2616"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition for an interval method.  <br /></td></tr>
<tr class="separator:a0feaa97fa5dde4cf663693b81f8b2616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ccaea76fdd22612ea79cbb20dc53a4a" id="r_a0ccaea76fdd22612ea79cbb20dc53a4a"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ccaea76fdd22612ea79cbb20dc53a4a">ReportSlippageFunc_T</a>) (<a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html">Interval_T</a> &amp;intervalThatSlipped, uint64_t currentTick, uint64_t missedInterval)</td></tr>
<tr class="memdesc:a0ccaea76fdd22612ea79cbb20dc53a4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the method that is used to report to the Application when an Interval does not execute 'on time'.  <br /></td></tr>
<tr class="separator:a0ccaea76fdd22612ea79cbb20dc53a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26b87fb9f58e1fff08475ff59c829bea" id="r_a26b87fb9f58e1fff08475ff59c829bea"><td class="memItemLeft" align="right" valign="top">typedef uint64_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26b87fb9f58e1fff08475ff59c829bea">NowFunc_T</a>) ()</td></tr>
<tr class="memdesc:a26b87fb9f58e1fff08475ff59c829bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the function that returns current system.  <br /></td></tr>
<tr class="separator:a26b87fb9f58e1fff08475ff59c829bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544f639d070093250b1ff4867cd4d263" id="r_a544f639d070093250b1ff4867cd4d263"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a544f639d070093250b1ff4867cd4d263">Hook_T</a>) (uint64_t currentTick)</td></tr>
<tr class="memdesc:a544f639d070093250b1ff4867cd4d263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the optional functions that are used to provide hooks during startup/shutdown of the thread/loop[ to perform application specific processing.  <br /></td></tr>
<tr class="separator:a544f639d070093250b1ff4867cd4d263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab4fb3dabe4ba8b8618dbd8a79b4e0c" id="r_a0ab4fb3dabe4ba8b8618dbd8a79b4e0c"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ab4fb3dabe4ba8b8618dbd8a79b4e0c">IdleFunc_T</a>) (uint64_t currentTick, bool atLeastOneIntervalExecuted)</td></tr>
<tr class="memdesc:a0ab4fb3dabe4ba8b8618dbd8a79b4e0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines an optional method that is called every time the Runnable's object executes its event/scheduling loop.  <br /></td></tr>
<tr class="separator:a0ab4fb3dabe4ba8b8618dbd8a79b4e0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac92c6a338664aaf58a31b13ddcc3db85" id="r_ac92c6a338664aaf58a31b13ddcc3db85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac92c6a338664aaf58a31b13ddcc3db85">PeriodicScheduler</a> (<a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html">Interval_T</a> intervals[], <a class="el" href="#a544f639d070093250b1ff4867cd4d263">Hook_T</a> beginThreadProcessing=nullptr, <a class="el" href="#a544f639d070093250b1ff4867cd4d263">Hook_T</a> endThreadProcessing=nullptr, <a class="el" href="#a0ccaea76fdd22612ea79cbb20dc53a4a">ReportSlippageFunc_T</a> slippageFunc=nullptr, <a class="el" href="#a26b87fb9f58e1fff08475ff59c829bea">NowFunc_T</a> nowFunc=<a class="el" href="class_kit_1_1_system_1_1_elapsed_time.html#aa2b2b17065d3735b539458927f5dd6ac">ElapsedTime::millisecondsEx</a>) noexcept</td></tr>
<tr class="memdesc:ac92c6a338664aaf58a31b13ddcc3db85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:ac92c6a338664aaf58a31b13ddcc3db85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab35e7e5e928a287e33b65a4a3b191de2" id="r_ab35e7e5e928a287e33b65a4a3b191de2"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab35e7e5e928a287e33b65a4a3b191de2">~PeriodicScheduler</a> ()=default</td></tr>
<tr class="memdesc:ab35e7e5e928a287e33b65a4a3b191de2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor.  <br /></td></tr>
<tr class="separator:ab35e7e5e928a287e33b65a4a3b191de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a0a5483d2ab2faa501d8e60e8d841f" id="r_a25a0a5483d2ab2faa501d8e60e8d841f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25a0a5483d2ab2faa501d8e60e8d841f">executeScheduler</a> () noexcept</td></tr>
<tr class="memdesc:a25a0a5483d2ab2faa501d8e60e8d841f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is used to invoke the scheduler.  <br /></td></tr>
<tr class="separator:a25a0a5483d2ab2faa501d8e60e8d841f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc0b5b267c53884024fdcefe499d7c5" id="r_a2bc0b5b267c53884024fdcefe499d7c5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2bc0b5b267c53884024fdcefe499d7c5">beginLoop</a> () noexcept</td></tr>
<tr class="memdesc:a2bc0b5b267c53884024fdcefe499d7c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is expected to be called ONCE when the 'thread' is started and prior to the thread entering its 'forever' loop.  <br /></td></tr>
<tr class="separator:a2bc0b5b267c53884024fdcefe499d7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa674a0a684f002e7ae68fc669643c6b9" id="r_aa674a0a684f002e7ae68fc669643c6b9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa674a0a684f002e7ae68fc669643c6b9">endLoop</a> () noexcept</td></tr>
<tr class="memdesc:aa674a0a684f002e7ae68fc669643c6b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is expected to be called ONCE when the 'thread' has exited its 'forever' loop (but before the thread has actually terminated)  <br /></td></tr>
<tr class="separator:aa674a0a684f002e7ae68fc669643c6b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a37e2dd2e12f4fb69005198374e5f9530" id="r_a37e2dd2e12f4fb69005198374e5f9530"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37e2dd2e12f4fb69005198374e5f9530">setTimeMarker</a> (<a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html">Interval_T</a> &amp;interval, uint64_t currentTick) noexcept</td></tr>
<tr class="memdesc:a37e2dd2e12f4fb69005198374e5f9530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to Round DOWN to the nearest 'interval' boundary.  <br /></td></tr>
<tr class="separator:a37e2dd2e12f4fb69005198374e5f9530"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a0a9c4db4563092c9ca7d93bc6483e8de" id="r_a0a9c4db4563092c9ca7d93bc6483e8de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html">Interval_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a9c4db4563092c9ca7d93bc6483e8de">m_intervals</a></td></tr>
<tr class="memdesc:a0a9c4db4563092c9ca7d93bc6483e8de"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of Intervals Pointers.  <br /></td></tr>
<tr class="separator:a0a9c4db4563092c9ca7d93bc6483e8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3be6988bad73c3ef1b7bbea7bf1e2c3" id="r_ab3be6988bad73c3ef1b7bbea7bf1e2c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a0ccaea76fdd22612ea79cbb20dc53a4a">ReportSlippageFunc_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3be6988bad73c3ef1b7bbea7bf1e2c3">m_reportSlippage</a></td></tr>
<tr class="memdesc:ab3be6988bad73c3ef1b7bbea7bf1e2c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report slippage method.  <br /></td></tr>
<tr class="separator:ab3be6988bad73c3ef1b7bbea7bf1e2c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be060d65e26cebdb8186a59c1acc829" id="r_a1be060d65e26cebdb8186a59c1acc829"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a26b87fb9f58e1fff08475ff59c829bea">NowFunc_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1be060d65e26cebdb8186a59c1acc829">m_nowFunc</a></td></tr>
<tr class="memdesc:a1be060d65e26cebdb8186a59c1acc829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current system callback.  <br /></td></tr>
<tr class="separator:a1be060d65e26cebdb8186a59c1acc829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76627aa69c7428141f9d6d51aa2cde6c" id="r_a76627aa69c7428141f9d6d51aa2cde6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a544f639d070093250b1ff4867cd4d263">Hook_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76627aa69c7428141f9d6d51aa2cde6c">m_beginThreadFunc</a></td></tr>
<tr class="memdesc:a76627aa69c7428141f9d6d51aa2cde6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application hook during thread start-up.  <br /></td></tr>
<tr class="separator:a76627aa69c7428141f9d6d51aa2cde6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a625d0099600c80d58edead49d0246a7c" id="r_a625d0099600c80d58edead49d0246a7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a544f639d070093250b1ff4867cd4d263">Hook_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a625d0099600c80d58edead49d0246a7c">m_endThreadFunc</a></td></tr>
<tr class="memdesc:a625d0099600c80d58edead49d0246a7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application hook during thread shutdown.  <br /></td></tr>
<tr class="separator:a625d0099600c80d58edead49d0246a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe659d2aeac8013bbc308434ac07d892" id="r_afe659d2aeac8013bbc308434ac07d892"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe659d2aeac8013bbc308434ac07d892">m_firstExecution</a></td></tr>
<tr class="memdesc:afe659d2aeac8013bbc308434ac07d892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to managing the 'first' execution.  <br /></td></tr>
<tr class="separator:afe659d2aeac8013bbc308434ac07d892"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a544f639d070093250b1ff4867cd4d263" name="a544f639d070093250b1ff4867cd4d263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a544f639d070093250b1ff4867cd4d263">&#9670;&#160;</a></span>Hook_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Kit::System::PeriodicScheduler::Hook_T) (uint64_t currentTick)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the optional functions that are used to provide hooks during startup/shutdown of the thread/loop[ to perform application specific processing. </p>

</div>
</div>
<a id="a0ab4fb3dabe4ba8b8618dbd8a79b4e0c" name="a0ab4fb3dabe4ba8b8618dbd8a79b4e0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ab4fb3dabe4ba8b8618dbd8a79b4e0c">&#9670;&#160;</a></span>IdleFunc_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Kit::System::PeriodicScheduler::IdleFunc_T) (uint64_t currentTick, bool atLeastOneIntervalExecuted)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines an optional method that is called every time the Runnable's object executes its event/scheduling loop. </p>
<p>NOTE: The method is not used by the <a class="el" href="class_kit_1_1_system_1_1_periodic_scheduler.html" title="This concrete class is a &#39;policy&#39; object that is used to add polled based, cooperative monotonic sche...">PeriodicScheduler</a> object directly - if used - it is the responsibility of the Runnable object (that is calling the scheduler) to ensure it is called at the appropriate times. </p>

</div>
</div>
<a id="a0feaa97fa5dde4cf663693b81f8b2616" name="a0feaa97fa5dde4cf663693b81f8b2616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0feaa97fa5dde4cf663693b81f8b2616">&#9670;&#160;</a></span>IntervalCallbackFunc_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Kit::System::PeriodicScheduler::IntervalCallbackFunc_T) (uint64_t currentTick, uint64_t currentInterval, void *context)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition for an interval method. </p>
<p>This method is called when the period time has expired for the interval.</p>
<p>Where: currentTick - is current system when the interval method is called currentInterval - is the deterministic interval boundary that is being logically executed. context - Application defined argument/value passed to the interval method.</p>
<p>Example: Given a interval method is scheduled to execute at 10Hz and the current system time in the Runnable object's forever loop is 10.212 seconds when the interval method is called THEN: </p><pre class="fragment">currentTick:=      10212 ms
currentInterval:=  10200 ms
</pre> 
</div>
</div>
<a id="a26b87fb9f58e1fff08475ff59c829bea" name="a26b87fb9f58e1fff08475ff59c829bea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26b87fb9f58e1fff08475ff59c829bea">&#9670;&#160;</a></span>NowFunc_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint64_t(* Kit::System::PeriodicScheduler::NowFunc_T) ()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the function that returns current system. </p>
<p>This method has two purposes: 1) It simplifies unit testing because it breaks the dependency on 'real time 2) Makes unit testing easier </p>

</div>
</div>
<a id="a0ccaea76fdd22612ea79cbb20dc53a4a" name="a0ccaea76fdd22612ea79cbb20dc53a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ccaea76fdd22612ea79cbb20dc53a4a">&#9670;&#160;</a></span>ReportSlippageFunc_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Kit::System::PeriodicScheduler::ReportSlippageFunc_T) (<a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html">Interval_T</a> &amp;intervalThatSlipped, uint64_t currentTick, uint64_t missedInterval)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the method that is used to report to the Application when an Interval does not execute 'on time'. </p>
<p>Where: intervalThatSlipped - Reference to the interval that did not execute on time currentTick - The system time when the scheduler executed the interval missedInterval - The interval boundary that was missed intervalContext - Application defined argument/value that was passed to the interval method. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac92c6a338664aaf58a31b13ddcc3db85" name="ac92c6a338664aaf58a31b13ddcc3db85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92c6a338664aaf58a31b13ddcc3db85">&#9670;&#160;</a></span>PeriodicScheduler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Kit::System::PeriodicScheduler::PeriodicScheduler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html">Interval_T</a></td>          <td class="paramname"><span class="paramname"><em>intervals</em>[], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a544f639d070093250b1ff4867cd4d263">Hook_T</a></td>          <td class="paramname"><span class="paramname"><em>beginThreadProcessing</em><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a544f639d070093250b1ff4867cd4d263">Hook_T</a></td>          <td class="paramname"><span class="paramname"><em>endThreadProcessing</em><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a0ccaea76fdd22612ea79cbb20dc53a4a">ReportSlippageFunc_T</a></td>          <td class="paramname"><span class="paramname"><em>slippageFunc</em><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a26b87fb9f58e1fff08475ff59c829bea">NowFunc_T</a></td>          <td class="paramname"><span class="paramname"><em>nowFunc</em><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="class_kit_1_1_system_1_1_elapsed_time.html#aa2b2b17065d3735b539458927f5dd6ac">ElapsedTime::millisecondsEx</a></span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>The application provides a variable length array of interval definitions that will be scheduled. The last entry in the array must contain a 'null' <a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html" title="Defines an interval.">Interval_T</a> definition (i.e. all fields set to zero). The Scheduler assumes that each <a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html" title="Defines an interval.">Interval_T</a> definition has a unique period time.</p>
<p>The individual 'intervals' MUST be initialized (either statically or by calling initializeInterval()) before creating the scheduler.</p>
<p>Notes:</p><ul>
<li>When extending a event based (i.e. inherits from <a class="el" href="class_kit_1_1_system_1_1_event_loop.html" title="This concrete class is a IRunnable object that provides a event driven execution model for a thread.">EventLoop</a>) runnable object with scheduling, the Application should define all of the scheduled Intervals to have period times that are multiples of the <a class="el" href="class_kit_1_1_system_1_1_event_loop.html" title="This concrete class is a IRunnable object that provides a event driven execution model for a thread.">EventLoop</a>'s 'timeOutPeriodInMsec' constructor value. </li>
</ul>

</div>
</div>
<a id="ab35e7e5e928a287e33b65a4a3b191de2" name="ab35e7e5e928a287e33b65a4a3b191de2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab35e7e5e928a287e33b65a4a3b191de2">&#9670;&#160;</a></span>~PeriodicScheduler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Kit::System::PeriodicScheduler::~PeriodicScheduler </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Virtual destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2bc0b5b267c53884024fdcefe499d7c5" name="a2bc0b5b267c53884024fdcefe499d7c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bc0b5b267c53884024fdcefe499d7c5">&#9670;&#160;</a></span>beginLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Kit::System::PeriodicScheduler::beginLoop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is expected to be called ONCE when the 'thread' is started and prior to the thread entering its 'forever' loop. </p>

</div>
</div>
<a id="aa674a0a684f002e7ae68fc669643c6b9" name="aa674a0a684f002e7ae68fc669643c6b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa674a0a684f002e7ae68fc669643c6b9">&#9670;&#160;</a></span>endLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Kit::System::PeriodicScheduler::endLoop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is expected to be called ONCE when the 'thread' has exited its 'forever' loop (but before the thread has actually terminated) </p>

</div>
</div>
<a id="a25a0a5483d2ab2faa501d8e60e8d841f" name="a25a0a5483d2ab2faa501d8e60e8d841f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25a0a5483d2ab2faa501d8e60e8d841f">&#9670;&#160;</a></span>executeScheduler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Kit::System::PeriodicScheduler::executeScheduler </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is used to invoke the scheduler. </p>
<p>When called - zero or more Interval definitions will be executed. The method returns true if at least one Interval was executed.</p>
<p>If a scheduled Interval does not execute 'on time', then the reportSlippage() method will called. It is the Application's to decide (what if anything) is done when there is slippage in the scheduling. The slippage is reported AFTER the Interval's IntervalCallbackFunc_T is called. </p>

</div>
</div>
<a id="a37e2dd2e12f4fb69005198374e5f9530" name="a37e2dd2e12f4fb69005198374e5f9530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37e2dd2e12f4fb69005198374e5f9530">&#9670;&#160;</a></span>setTimeMarker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Kit::System::PeriodicScheduler::setTimeMarker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html">Interval_T</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>interval</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>currentTick</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to Round DOWN to the nearest 'interval' boundary. </p>
<p>A side effect the rounding-down is the FIRST execution of an interval will NOT be accurate (i.e. will be something less than 'periodMs'). </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a76627aa69c7428141f9d6d51aa2cde6c" name="a76627aa69c7428141f9d6d51aa2cde6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76627aa69c7428141f9d6d51aa2cde6c">&#9670;&#160;</a></span>m_beginThreadFunc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a544f639d070093250b1ff4867cd4d263">Hook_T</a> Kit::System::PeriodicScheduler::m_beginThreadFunc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Application hook during thread start-up. </p>

</div>
</div>
<a id="a625d0099600c80d58edead49d0246a7c" name="a625d0099600c80d58edead49d0246a7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a625d0099600c80d58edead49d0246a7c">&#9670;&#160;</a></span>m_endThreadFunc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a544f639d070093250b1ff4867cd4d263">Hook_T</a> Kit::System::PeriodicScheduler::m_endThreadFunc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Application hook during thread shutdown. </p>

</div>
</div>
<a id="afe659d2aeac8013bbc308434ac07d892" name="afe659d2aeac8013bbc308434ac07d892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe659d2aeac8013bbc308434ac07d892">&#9670;&#160;</a></span>m_firstExecution</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Kit::System::PeriodicScheduler::m_firstExecution</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag to managing the 'first' execution. </p>

</div>
</div>
<a id="a0a9c4db4563092c9ca7d93bc6483e8de" name="a0a9c4db4563092c9ca7d93bc6483e8de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a9c4db4563092c9ca7d93bc6483e8de">&#9670;&#160;</a></span>m_intervals</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_kit_1_1_system_1_1_periodic_scheduler_1_1_interval___t.html">Interval_T</a>* Kit::System::PeriodicScheduler::m_intervals</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of Intervals Pointers. </p>

</div>
</div>
<a id="a1be060d65e26cebdb8186a59c1acc829" name="a1be060d65e26cebdb8186a59c1acc829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1be060d65e26cebdb8186a59c1acc829">&#9670;&#160;</a></span>m_nowFunc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a26b87fb9f58e1fff08475ff59c829bea">NowFunc_T</a> Kit::System::PeriodicScheduler::m_nowFunc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current system callback. </p>

</div>
</div>
<a id="ab3be6988bad73c3ef1b7bbea7bf1e2c3" name="ab3be6988bad73c3ef1b7bbea7bf1e2c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3be6988bad73c3ef1b7bbea7bf1e2c3">&#9670;&#160;</a></span>m_reportSlippage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a0ccaea76fdd22612ea79cbb20dc53a4a">ReportSlippageFunc_T</a> Kit::System::PeriodicScheduler::m_reportSlippage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Report slippage method. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Kit/System/<a class="el" href="_periodic_scheduler_8h_source.html">PeriodicScheduler.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 13 2025 17:27:21 for Kit by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
